# ET Heatmap - Production Environment Variables
# Copy this file to .env.production and fill in your values

# =============================================================================
# DATABASE - PostgreSQL (REQUIRED IN PRODUCTION)
# =============================================================================

# PostgreSQL credentials (use strong passwords!)
POSTGRES_USER=et_heatmap_prod
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_PASSWORD
POSTGRES_DB=et_heatmap

# Full connection URL
DATABASE_URL=postgresql://et_heatmap_prod:CHANGE_THIS_TO_STRONG_PASSWORD@postgres:5432/et_heatmap

# =============================================================================
# YOUTUBE API (REQUIRED)
# =============================================================================

# Get your API key from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your-youtube-api-key-here

# Optional: Specific channel ID to monitor
# YOUTUBE_CHANNEL_ID=UCxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# REDDIT API (REQUIRED IF REDDIT INGESTION ENABLED)
# =============================================================================

# Get credentials from: https://www.reddit.com/prefs/apps
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret
REDDIT_USERNAME=your-reddit-bot-username
REDDIT_PASSWORD=your-reddit-bot-password
REDDIT_USER_AGENT=et-heatmap-bot/0.1.0 (by /u/your-username)

# =============================================================================
# ERROR MONITORING - Sentry (HIGHLY RECOMMENDED)
# =============================================================================

# Get DSN from: https://sentry.io
SENTRY_DSN=https://your-sentry-key@o12345.ingest.sentry.io/67890
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=et-heatmap@0.1.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# REDIS (REQUIRED FOR PRODUCTION CACHING)
# =============================================================================

# Use a strong password for Redis
REDIS_PASSWORD=CHANGE_THIS_TO_STRONG_REDIS_PASSWORD

# =============================================================================
# SECURITY & DOMAINS
# =============================================================================

# Your production domain(s) - comma-separated
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# API URL for frontend
VITE_API_URL=https://yourdomain.com

# =============================================================================
# BACKUP - AWS S3 (OPTIONAL BUT RECOMMENDED)
# =============================================================================

# AWS credentials for backup storage
BACKUP_S3_BUCKET=your-backup-bucket-name
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-west-2

# Backup retention settings
BACKUP_KEEP_DAILY=7
BACKUP_KEEP_WEEKLY=4
BACKUP_KEEP_MONTHLY=12

# =============================================================================
# LOGGING
# =============================================================================

# Log level (INFO recommended for production)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/app.log

# =============================================================================
# API SERVER
# =============================================================================

# Internal port (don't change unless needed)
PORT=8000
BACKEND_PORT=8000
FRONTEND_PORT=80

# =============================================================================
# PIPELINE SCHEDULING
# =============================================================================

# Timezone for scheduled runs
PIPELINE_TIMEZONE=America/Los_Angeles

# Cron schedules (default values shown)
# DAILY_RUN_SCHEDULE=0 6 * * *      # 6:00 AM PT daily
# WEEKLY_BASELINE_SCHEDULE=0 3 * * 0  # 3:00 AM PT Sunday

# =============================================================================
# PERFORMANCE TUNING (OPTIONAL)
# =============================================================================

# Worker processes for uvicorn (default: auto)
# WORKERS=4

# Database connection pool size
# DB_POOL_SIZE=10
# DB_MAX_OVERFLOW=20

# Redis connection pool size
# REDIS_MAX_CONNECTIONS=50

# =============================================================================
# FEATURE FLAGS (OPTIONAL)
# =============================================================================

# Skip expensive ML operations for testing
# SKIP_ML_MODELS=false

# Enable debug mode (DO NOT USE IN PRODUCTION)
# DEBUG=false

# =============================================================================
# SSL/TLS (IF NOT USING NGINX)
# =============================================================================

# SSL certificate paths (only if terminating SSL in app)
# SSL_CERT_PATH=/etc/ssl/certs/fullchain.pem
# SSL_KEY_PATH=/etc/ssl/private/privkey.pem

# =============================================================================
# EXTERNAL SERVICES (OPTIONAL)
# =============================================================================

# Google Trends (optional - for baseline fame calculation)
# GOOGLE_TRENDS_ENABLED=true

# GDELT News (optional - for news ingestion)
# GDELT_ENABLED=true

# =============================================================================
# MONITORING & ALERTS (OPTIONAL)
# =============================================================================

# Slack webhook for alerts
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email alerts
# ALERT_EMAIL=alerts@yourdomain.com
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================================================
# NOTES
# =============================================================================

# 1. NEVER commit this file with real credentials to git
# 2. Use strong, unique passwords for all services
# 3. Rotate credentials regularly (quarterly recommended)
# 4. Store backup of credentials in secure password manager
# 5. Test configuration in staging before production
# 6. Enable Sentry for error tracking
# 7. Set up S3 backups for disaster recovery
# 8. Monitor logs regularly for issues
# 9. Keep this file secure (chmod 600 .env.production)
# 10. Document any custom settings added

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================

# Before deploying, ensure:
# [ ] All CHANGE_THIS placeholders replaced
# [ ] API keys are valid and working
# [ ] Database credentials are strong
# [ ] CORS_ORIGINS matches your domain
# [ ] Sentry DSN is configured
# [ ] Backup strategy is tested
# [ ] SSL certificates are installed
# [ ] Firewall rules are configured
# [ ] Domain DNS is pointing to server
# [ ] Health checks are passing
